<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Juna - AI Voice Assistant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <script type="module" src="./main.js" defer></script>
  </head>

  <body>
    <div class="app-container">
      <!-- Floating Microphone Button -->
      <main class="recording-interface">
        <div class="mic-container">
          <button id="mic-button" class="mic-button" aria-label="Talk to Juna">
            <svg
              class="mic-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"
              ></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
          </button>

          <!-- Recording Animation Waves -->
          <div class="sound-waves">
            <div class="wave wave-1"></div>
            <div class="wave wave-2"></div>
            <div class="wave wave-3"></div>
            <div class="wave wave-4"></div>
          </div>
        </div>

        <!-- Status Display -->
        <div class="status-container">
          <p id="status-text" class="status-text">Click to talk to Juna</p>
          <div id="timer" class="timer">00:00</div>
        </div>
      </main>

      <!-- Interface Toggle -->
      <div class="interface-toggle">
        <button id="voice-mode-btn" class="toggle-btn active">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"
            ></path>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
            <line x1="12" y1="19" x2="12" y2="23"></line>
            <line x1="8" y1="23" x2="16" y2="23"></line>
          </svg>
          Voice
        </button>
        <button id="chat-mode-btn" class="toggle-btn">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
            ></path>
          </svg>
          Chat
        </button>
      </div>

      <!-- Modern UI Controls -->
      <aside class="controls-panel">
        <div class="control-group voice-controls">
          <button id="play-button" class="control-btn" disabled>
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polygon points="5,3 19,12 5,21"></polygon>
            </svg>
            Listen
          </button>

          <button id="save-button" class="control-btn" disabled>
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
              ></path>
              <polyline points="17,21 17,13 7,13 7,21"></polyline>
              <polyline points="7,3 7,8 15,8"></polyline>
            </svg>
            Save Message
          </button>

          <button id="delete-button" class="control-btn danger" disabled>
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="3,6 5,6 21,6"></polyline>
              <path
                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2 2h4a2 2 0 0 1 2 2v2"
              ></path>
            </svg>
            Delete
          </button>
        </div>
      </aside>
    </div>

    <!-- Chat Interface -->
    <div id="chat-container" class="chat-container hidden">
      <div class="chat-header">
        <div class="chat-title">
          <h2>Chat with Juna</h2>
          <div id="session-info" class="session-info">
            <div class="session-details">
              <span class="session-status">Connecting...</span>
            </div>
          </div>
        </div>
        <div class="chat-actions">
          <button id="session-reset-btn" class="session-btn" title="Reset Session">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10"></polyline>
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
            </svg>
          </button>
          <button id="clear-chat-btn" class="clear-chat-btn">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="3,6 5,6 21,6"></polyline>
              <path
                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
              ></path>
            </svg>
            Clear
          </button>
        </div>
      </div>

      <div id="chat-messages" class="chat-messages">
        <div class="welcome-message">
          <div class="message juna-message">
            <div class="message-avatar">J</div>
            <div class="message-content">
              <p>Hi! I'm Juna, your AI assistant. How can I help you today?</p>
              <span class="message-time">now</span>
            </div>
          </div>
        </div>
      </div>

      <div class="chat-input-container">
        <div class="chat-input-wrapper">
          <input
            type="text"
            id="chat-input"
            class="chat-input"
            placeholder="Type your message to Juna..."
            maxlength="500"
            autocomplete="off"
          />
          <button id="send-message-btn" class="send-btn" disabled>
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22,2 15,22 11,13 2,9 22,2"></polygon>
            </svg>
          </button>
        </div>
        <div class="input-status">
          <span id="char-count">0/500</span>
          <span class="typing-indicator" id="typing-indicator"></span>
        </div>
      </div>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification"></div>
  </body>
</html>
